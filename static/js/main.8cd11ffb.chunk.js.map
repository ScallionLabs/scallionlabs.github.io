{"version":3,"sources":["Select.js","App.js","serviceWorker.js","index.js"],"names":["optimizeSelect","components","MenuList","props","options","children","maxHeight","getValue","Array","isArray","selectedValues","initialOffset","indexOf","width","itemSize","height","itemCount","length","initialScrollOffset","index","style","className","Option","innerProps","onMouseMove","onMouseOver","ignoreAccents","get","loader","Dataloader","urls","Promise","all","map","url","agent","batch","load","Steps","analyzedInstructions","x","name","steps","i","step","key","Ingredients","ingredients","id","originalString","Radar","title","data","size","scales","captions","reduce","a","b","meta","color","Math","min","value","MacroBreakdown","caloricBreakdown","nutrients","percentProtein","percentFat","percentCarbs","carbs","find","amount","fiber","sugar","fat","saturated","saturatedPercent","scale","max","scaled","summaryExcludes","Set","Nutrition","excludes","nutrition","filter","has","sort","localeCompare","vitamins","includes","percentOfDailyNeeds","minerals","RecipeCard","to","src","image","loading","sourceName","Recipe","match","useState","setData","useEffect","params","then","body","top5Nutrients","slice","Helmet","property","content","tags","join","padding","href","sourceUrl","servings","readyInMinutes","undefined","preparationMinutes","cookingMinutes","replace","similar","topDiets","placeholder","TopicSearch","topic","setIndex","useIndex","history","useHistory","Select","count","slug","label","onChange","push","Pagination","page","total","whiteSpace","Search","results","parseInt","setTimeout","console","log","keywords","flatMap","recipe","ScrollToTop","pathname","useLocation","window","scrollTo","Intro","Shop","Object","values","ads","k","dangerouslySetInnerHTML","__html","App","path","component","exact","Boolean","location","hostname","defineProperty","process","document","getElementById","hasChildNodes","hydrate","render","StrictMode","basename","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"6u6BAIaA,EAAiB,CAC5BC,WAAY,CACVC,SAKJ,SAA2BC,GAAQ,IACzBC,EAA2CD,EAA3CC,QAASC,EAAkCF,EAAlCE,SAAUC,EAAwBH,EAAxBG,UAAWC,EAAaJ,EAAbI,SACtC,IAAKF,IAAaG,MAAMC,QAAQJ,GAAW,OAAO,KAElD,IACMK,EAAiBH,IACjBI,EAAgBD,EAAe,GAFtB,GAE2BN,EAAQQ,QAAQF,EAAe,IAAe,EAExF,OACE,kBAAC,IAAD,CACEG,MAAO,GACPC,SAPW,GAQXC,OAAQT,EACRU,UAAWX,EAASY,OACpBC,oBAAqBP,IAEpB,gBAAGQ,EAAH,EAAGA,MAAOC,EAAV,EAAUA,MAAV,OACC,yBAAKC,UAAU,iBAAiBD,MAAOA,GACpCf,EAASc,QAtBhBG,OA6BJ,SAAyBnB,GAGvB,cAFOA,EAAMoB,WAAWC,mBACjBrB,EAAMoB,WAAWE,YACjB,kBAAC,IAAWH,OAAWnB,EAAQA,EAAME,aAG/B,eAAUF,GACvB,OAAO,kBAAC,IAAD,eAAQuB,eAAe,EAAOzB,WAAYD,GAAoBG,K,yCChCjEwB,EAAO,WACX,IAAMC,EAAS,IAAIC,KAAW,SAAAC,GAAI,OAChCC,QAAQC,IAAIF,EAAKG,KAAI,SAAAC,GAAG,OAAEC,IAAMR,IAAIO,SAAQ,CAC5CE,OAAM,IAGR,OAAO,SAAAF,GAAG,OAAIN,EAAOS,KAAKH,IANf,GAUb,SAASI,EAAOnC,GACd,OAAO,yBAAKkB,UAAU,SACpB,2CAEElB,EAAMoC,qBAAqBN,KAAI,SAAAO,GAAC,OAC9B,6BACE,2BAAIA,EAAEC,MACN,4BACGD,EAAEE,MAAMT,KAAK,WAASU,GAAT,IAAEC,EAAF,EAAEA,KAAF,OAAe,wBAAIC,IAAKF,GAAIC,YAQtD,SAASE,EAAa3C,GACpB,OACE,yBAAKkB,UAAU,eACb,2CACA,4BACGlB,EAAM4C,YAAYd,KAAK,SAACO,EAAGQ,GAAJ,OACtB,wBAAIH,IAAKG,GAAKR,EAAES,eAAhB,UAQV,IAAMC,EAAQ,SAAC,GAAD,IAAEC,EAAF,EAAEA,MAAOC,EAAT,EAASA,KAAT,OACZ,kBAAC,IAAD,CACEhD,QAAW,CAACiD,KAAK,MAAOC,OAAO,GAC/BH,MAASA,EACTI,SACEH,EACGnB,KAAI,SAAAO,GAAC,OAAEA,EAAEW,SACTK,QAAO,SAACC,EAAEC,GAAH,mBAAC,eAAUA,EAAGA,GAAMD,KAAK,IAErCL,KAAQ,CAAC,CACPO,KAAM,CAACC,MAAO,UACdR,KAAMA,EACHI,QAAO,SAACC,EAAEC,GAAH,mBAAC,eAAWA,EAAEP,MAAQU,KAAKC,IAAI,EAAEJ,EAAEK,MAAM,MAASN,KAAK,SAKvE,SAASO,EAAT,GAAwD,IAA/BC,EAA8B,EAA9BA,iBAAkBC,EAAY,EAAZA,UAClCC,EAA4CF,EAA5CE,eAAgBC,EAA4BH,EAA5BG,WAAYC,EAAgBJ,EAAhBI,aAE7BC,EAAQJ,EAAUK,MAAK,SAAA/B,GAAC,MAAe,qBAAXA,EAAEW,UAAiC,CAACqB,OAAQ,GACxEC,EAAQP,EAAUK,MAAK,SAAA/B,GAAC,MAAe,SAAXA,EAAEW,UAAqB,CAACqB,OAAQ,GAC5DE,EAAQR,EAAUK,MAAK,SAAA/B,GAAC,MAAe,SAAXA,EAAEW,UAAqB,CAACqB,OAAQ,GAE5DG,GADUT,EAAUK,MAAK,SAAA/B,GAAC,MAAe,WAAXA,EAAEW,SAC1Be,EAAUK,MAAK,SAAA/B,GAAC,MAAe,OAAXA,EAAEW,UAAmB,CAACqB,OAAQ,IACxDI,EAAYV,EAAUK,MAAK,SAAA/B,GAAC,MAAe,iBAAXA,EAAEW,UAA6B,CAACqB,OAAQ,GAGxEK,EAAmBT,EAAaQ,EAAUJ,OAASG,EAAIH,OAMvDpB,EAAO,CACX,CAACD,MAAO,kBAAmBY,MANFK,GAAc,EAAIQ,EAAUJ,OAASG,EAAIH,QAMZZ,MAAO,SAC7D,CAACT,MAAO,gBAAiBY,MAAOc,EAAkBjB,MAAO,YACzD,CAACT,MAAO,UAAWY,MAAOI,EAAgBP,MAAO,QACjD,CAACT,MAAO,QAASY,MAREM,EAAeI,EAAMD,OAASF,EAAME,OAQjBZ,MAAO,SAC7C,CAACT,MAAO,QAASY,MAREM,EAAeK,EAAMF,OAAUF,EAAME,OAQlBZ,MAAO,OAC7C,CAACT,MAAO,gBAAiBY,MARJM,GAAgBC,EAAME,OAASE,EAAMF,QAAWF,EAAME,OAQ3BZ,MAAO,WAGnDkB,EAAQjB,KAAKkB,IAAL,MAAAlB,KAAI,YAAQT,EAAKnB,KAAI,SAAAO,GAAC,OAAEA,EAAEuB,WAClCiB,EAAS5B,EAAKnB,KAAI,SAAAO,GAAC,sBAAOA,EAAP,CAAUuB,MAAOvB,EAAEuB,MAAMe,EAAQ,SAE1D,OAAO,kBAAC,EAAD,CAAO3B,MAAM,SAASC,KAAM4B,IAGrC,IAAMC,EAAkB,IAAIC,IAAI,CAC9B,oBACA,gBAGF,SAASC,EAAWhF,GAClB,IAAMiF,EAAW,IAAIF,IAAI,CACvB,gBACA,oBACA,MACA,QACA,QACA,WACA,gBACA,cACA,UACA,WAGIhB,EAAY/D,EACfkF,UACAnB,UACAoB,QAAO,SAAA9C,GAAC,OAAG4C,EAASG,IAAI/C,EAAEW,UAC1BqC,MAAK,SAAC/B,EAAEC,GAAH,OAASD,EAAEN,MAAMsC,cAAc/B,EAAEP,UAEnCuC,EAAWxB,EACdoB,QAAO,SAAA9C,GAAC,OAAIA,EAAEW,MAAMwC,SAAS,cAC7B1D,KAAI,SAAAO,GAAC,sBAAOA,EAAP,CAAUuB,MAAOF,KAAKC,IAAI,IAAKtB,EAAEoD,0BAEnCC,EAAW3B,EACdoB,QAAO,SAAA9C,GAAC,OAAKA,EAAEW,MAAMwC,SAAS,cAC9B1D,KAAI,SAAAO,GAAC,sBAAOA,EAAP,CAAUuB,MAAOF,KAAKC,IAAI,IAAKtB,EAAEoD,0BAEzC,OACE,yBAAKvE,UAAU,aACb,6BACE,8CACA,kBAAC,EAAD,CAAO8B,MAAM,WAAWC,KAAMsC,KAEhC,6BACE,8CACA,kBAAC,EAAD,CAAOvC,MAAM,WAAWC,KAAMyC,KAEhC,6BACE,sCACA,kBAAC7B,EAAmB7D,EAAMkF,aAMlC,SAASS,EAAW1C,GAClB,OACE,yBAAK/B,UAAU,QACb,kBAAC,IAAD,CAAM0E,GAAI,WAAW3C,EAAKJ,GAAI3B,UAAU,SACtC,yBAAK2E,IAAK,IAAI5C,EAAK6C,MAAOpF,MAAO,IAAKqF,QAAQ,UAGhD,yBAAK7E,UAAU,QACb,yBAAKA,UAAU,UACb+B,EAAK+C,YAEP,yBAAK9E,UAAU,SAAS+B,EAAKD,SAOrC,SAASiD,EAAT,GAA0B,IAATC,EAAQ,EAARA,MAAQ,EACCC,mBAAS,MADV,mBAChBlD,EADgB,KACVmD,EADU,KAQvB,GALAC,qBAAU,WACR7E,EAAI,iBAAD,OAAkB0E,EAAMI,OAAOzD,GAA/B,UACA0D,MAAK,SAAAlE,GAAC,OAAE+D,EAAQ/D,EAAEmE,WACpB,CAACN,EAAMI,OAAOzD,MAEZI,EACH,OAAO,KAET,IAAMwD,EAAgBxD,EACnBiC,UACAnB,UACAoB,QAAQ,SAAA9C,GAAC,OAAKyC,EAAgBM,IAAI/C,EAAEW,UACpCmC,QAAQ,SAAA9C,GAAC,OAAIA,EAAEoD,oBAAsB,OACrCJ,MAAM,SAAC/B,EAAEC,GAAH,OAASA,EAAEkC,oBAAsBnC,EAAEmC,uBACzCiB,MAAM,EAAG,GAEZ,OACE,oCACE,kBAACC,EAAA,EAAD,KACE,+BAAQ1D,EAAKD,OACb,0BAAM4D,SAAS,WAAWC,QAAS5D,EAAKD,QACxC,0BAAMV,KAAK,WAAWuE,QAAS5D,EAAK6D,KAAKC,KAAK,QAC9C,0BAAMzE,KAAK,cAAcuE,QAAO,yDAAoD5D,EAAKD,MAAzD,qBAA2EC,EAAK+C,eAElH,yBAAK9E,UAAU,UACb,yBAAMD,MAAO,CAAC+F,QAAS,QACrB,yBAAKnB,IAAK,IAAM5C,EAAK6C,SAEvB,6BACE,4BAAK7C,EAAKD,OACV,wBAAI9B,UAAU,eACZ,gCAAK,uBAAG+F,KAAMhE,EAAKiE,WAAYjE,EAAKiE,WAApC,KACA,0CAAe,2BAAIjE,EAAKkE,WACxB,0CAAe,2BAAIlE,EAAKmE,gBAAxB,aAC4BC,GAA3BpE,EAAKqE,oBACJ,kDAAuB,2BAAIrE,EAAKqE,oBAAhC,aACsBD,GAAvBpE,EAAKsE,gBACJ,8CAAmB,2BAAItE,EAAKsE,gBAA5B,QACF,qCACE,yBAAKrG,UAAU,QACf+B,EAAK6D,KACFhF,KAAK,SAAAO,GAAC,OAAI,kBAAC,IAAD,CAAMuD,GAAE,kBAAavD,EAAEmF,QAAQ,KAAM,MAAQ9E,IAAKL,EAAGnB,UAAU,OAAOmB,EAAtE,UAGU,GAAxBoE,EAAc3F,QAAgB,wCAAc2F,EAAc3E,KAAI,SAAAO,GAAC,OAAI,0BAAMK,IAAKL,EAAEW,MAAO9B,UAAU,OAAOmB,EAAEW,MAAMwE,QAAQ,WAAY,IAAjE,QAArC,QAKrC,kBAACxC,EAAc/B,GACf,yBAAK/B,UAAU,UACb,kBAACyB,EAAgBM,GACjB,kBAACd,EAAUc,IAGb,yBAAK/B,UAAU,WACb,iDACA,yBAAKA,UAAU,QACb+B,EAAKwE,QACFf,MAAM,EAAG,GACT5E,KAAK,SAACO,EAAGK,GAAJ,OAAY,kBAACiD,EAAD,iBAAgBtD,EAAhB,CAAmBK,IAAKA,WAQtD,IAYMgF,EAAW,CACf,UAAa,IACb,OAAU,IACV,MAAS,IACT,MAAS,IACT,WAAc,IACd,YAAe,IACf,QAAW,KAGPC,EAAc,CAClB,OACA,QACA,SACA,QACA,SACA,UACA,QACA,SACA,SACA,QACA,OACA,UACA,SACA,SACAZ,KAAK,MAEP,SAASa,EAAT,GAA+B,IAATC,EAAQ,EAARA,MACd7G,EAxCS,WAAO,IAAD,EACKmF,mBAAS,IADd,mBACdnF,EADc,KACP8G,EADO,KASrB,OANAzB,qBAAU,WACR7E,EAAI,qBAAqB+E,MAAK,SAAAlE,GAC5ByF,EAASzF,EAAEmE,WAEZ,IAEIxF,EA+BO+G,GACRC,EAAUC,cAEhB,OAAKjH,EAGH,yBAAKE,UAAU,UACb,kBAACgH,EAAD,CACEP,YAAaE,GAAK,0BAAuBF,GACzC1H,QACEe,EACGqE,MAAK,SAAC/B,EAAGC,GAAJ,OAAWmE,EAASnE,EAAEjB,OAAO,EAAIoF,EAASpE,EAAEhB,OAAciB,EAAE4E,MAAQ7E,EAAE6E,SAC3EhD,QAAO,SAAA9C,GAAC,OAAIA,EAAE8F,MAAQ,MACtBrG,KAAI,SAAAO,GAAC,MAAK,CAACuB,MAAOvB,EAAE+F,KAAOC,MAAMhG,EAAEC,SAExCgG,SAAY,SAAAjG,GAAO2F,EAAQO,KAAR,kBAAwBlG,EAAEuB,MAAM4D,QAAQ,KAAM,WAZpD,KAiBrB,SAASgB,EAAT,GAA2C,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,MAAOb,EAAQ,EAARA,MAChC,OACE,yBAAK3G,UAAU,cACduH,EAAK,GACJ,kBAAC,IAAD,CACEvH,UAAU,MACV0E,GAAI,kBAAWiC,EAAML,QAAQ,KAAM,KAA/B,YAAuCiB,EAAK,GAAIjB,QAAQ,QAAQ,KAFtE,YAKK,GAANiB,GACC,0BAAMvH,UAAU,gBAAhB,cACF,0BAAMA,UAAU,MAAMD,MAAO,CAAC0H,WAAY,WAA1C,IAAuDF,EAAvD,MAAgEC,EAAhE,KACGD,EAAOC,GACN,kBAAC,IAAD,CACExH,UAAU,MACV0E,GAAE,kBAAaiC,EAAML,QAAQ,KAAM,KAAjC,YAAyCiB,EAAK,IAFlD,QAGDA,GAAQC,GAAS,0BAAMxH,UAAU,gBAAhB,WAKxB,SAAS0H,EAAO5I,GAAQ,IAAD,EACGmG,mBAAS,CAAC0C,QAAQ,KADrB,mBACd5F,EADc,KACRmD,EADQ,KAGfqC,EACJzI,EAAMkG,OAASlG,EAAMkG,MAAMI,OAAOmC,KAChCK,SAAS9I,EAAMkG,MAAMI,OAAOmC,MAC5B,EAEEZ,GAAS7H,EAAMkG,OAASlG,EAAMkG,MAAMI,OAAOuB,OAAS,OAAOL,QAAQ,KAAK,KAE9EnB,qBAAU,WACR7E,EAAI,SAAD,OAAUqG,EAAML,QAAQ,KAAM,KAA9B,YAAsCiB,EAAK,EAA3C,UAAqDlC,MAAK,SAAAlE,GAC3D+D,EAAQ/D,EAAEmE,MAELnE,EAAEmE,MAAQiC,EAAOpG,EAAEmE,KAAKkC,OAC3BK,YAAW,WACTvH,EAAI,SAAD,OAAUqG,EAAML,QAAQ,KAAM,KAA9B,YAAsCiB,EAAtC,UAAmDlC,MAAK,WACzDyC,QAAQC,IAAI,6BAEb,UAGN,CAACR,EAAMZ,IAEV,IAAMqB,EAAW,YAAI,IAAInE,IAAJ,CACnB,UACA8C,GAFmB,mBAGhB5E,EAAK4F,QAAQM,SAAQ,SAAA9G,GAAC,OAAEA,EAAEyE,YAC3BC,KAAK,MAET,OACE,oCACE,yBAAK7F,UAAU,WACb,kBAACyF,EAAA,EAAD,KACE,+BAAQkB,EAAR,YACA,0BAAMjB,SAAS,WAAWC,QAAO,UAAKgB,EAAL,cACjC,0BAAMvF,KAAK,WAAWuE,QAASqC,IAC/B,0BAAM5G,KAAK,cAAcuE,QAAO,oBAElC,yBAAK3F,UAAU,sBAAsB2B,GAAG,UACtC,wCACA,yBAAK3B,UAAU,YACb,kBAAC0G,EAAD,CAAaC,MAAOA,IACpB,kBAACW,EAAD,CAAYC,KAAMA,EAAMZ,MAAOA,EAAOa,MAAOzF,EAAKyF,UAItD,yBAAKxH,UAAU,QACb+B,EAAK4F,QACF/G,KAAK,SAACsH,EAAQ1G,GAAT,OACJ,kBAACiD,EAAD,iBAAgByD,EAAhB,CAAwB1G,IAAKA,SAEnC,yBAAKxB,UAAU,uBACb,6BACE,kBAACsH,EAAD,CAAYC,KAAMA,EAAMZ,MAAOA,EAAOa,MAAOzF,EAAKyF,YAQ9D,SAASW,IAAe,IACdC,EAAaC,cAAbD,SAMR,OAJAjD,qBAAU,WACRmD,OAAOC,SAAS,EAAG,KAClB,CAACH,IAEG,KAGT,SAASI,IACP,OACE,yBAAKxI,UAAU,UACb,yBAAKA,UAAU,WACb,6DAGA,8EAIF,yBAAKA,UAAU,SACb,yBAAK2E,IAAI,uCAMjB,SAAS8D,IACP,OACE,yBAAKzI,UAAU,eACb,qDACA,yBAAKA,UAAU,QACX0I,OAAOC,OAAOC,GACbX,SAAQ,SAAA9G,GAAC,OAAEA,KACXP,KAAK,SAACO,EAAG0H,GAAJ,OACN,yBAAK7I,UAAU,WACb,yBAAK8I,wBAAyB,CAACC,OAAQ5H,GAAIK,IAAKqH,UAiC7CG,MAzBf,WACE,OACE,oCACE,kBAACb,EAAD,MACA,yBAAKnI,UAAU,cACb,kBAAC,IAAD,CAAM0E,GAAG,KAAT,oBAEF,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOuE,KAAK,wBAAwBC,UAAWxB,IAC/C,kBAAC,IAAD,CAAOyB,OAAK,EAACF,KAAK,KAChB,kBAACT,EAAD,MACA,kBAACd,EAAD,OAEF,kBAAC,IAAD,CAAOyB,OAAK,EAACF,KAAK,cAAcC,UAAWnE,KAG7C,kBAAC0D,EAAD,MAEA,yBAAKzI,UAAU,aClbDoJ,QACW,cAA7Bd,OAAOe,SAASC,UAEe,UAA7BhB,OAAOe,SAASC,UAEhBhB,OAAOe,SAASC,SAAStE,MACvB,2DCNN0D,OAAOa,eAAejB,OAAQ,YAAY,eAE1CR,QAAQC,IAAIyB,KAEQC,SAASC,eAAe,QAE7BC,gBACTC,UACAC,UAIJ,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,CAAeC,SAAUP,IACvB,kBAAC,EAAD,QAGJC,SAASC,eAAe,SDsGpB,kBAAmBM,WACrBA,UAAUC,cAAcC,MACrB7E,MAAK,SAAA8E,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLxC,QAAQwC,MAAMA,EAAMC,c","file":"static/js/main.8cd11ffb.chunk.js","sourcesContent":["import { FixedSizeList } from 'react-window'\nimport Select, { components } from 'react-select'\nimport React from 'react'\n\nexport const optimizeSelect = {\n  components: {\n    MenuList: OptimizedMenuList,\n    Option: OptimizedOption,\n  },\n}\n\nfunction OptimizedMenuList(props) {\n  const { options, children, maxHeight, getValue } = props\n  if (!children || !Array.isArray(children)) return null\n\n  const height = 35\n  const selectedValues = getValue()\n  const initialOffset = selectedValues[0] ? options.indexOf(selectedValues[0]) * height : 0\n\n  return (\n    <FixedSizeList\n      width={''}\n      itemSize={height}\n      height={maxHeight}\n      itemCount={children.length}\n      initialScrollOffset={initialOffset}\n    >\n      {({ index, style }) => (\n        <div className=\"option-wrapper\" style={style}>\n          {children[index]}\n        </div>\n      )}\n    </FixedSizeList>\n  )\n}\n\nfunction OptimizedOption(props) {\n  delete props.innerProps.onMouseMove\n  delete props.innerProps.onMouseOver\n  return <components.Option {...props}>{props.children}</components.Option>\n}\n\nexport default function (props) {\n  return <Select ignoreAccents={false} components={optimizeSelect} {...props}  />\n}","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { Link, Switch, Route, useLocation, useHistory } from 'react-router-dom';\nimport agent from 'superagent';\nimport RadarChart from 'react-svg-radar-chart';\nimport Select from './Select';\nimport 'react-svg-radar-chart/build/css/index.css';\nimport Dataloader from 'dataloader'\nimport Helmet from 'react-helmet';\nimport ads from './ads';\n\nconst get = (() => {\n  const loader = new Dataloader(urls =>\n    Promise.all(urls.map(url=>agent.get(url))), {\n    batch:false\n  });\n\n  return url => loader.load(url);\n})();\n\n\nfunction Steps (props) {\n  return <div className=\"steps\">\n    <h2>Preparation</h2>\n    {\n      props.analyzedInstructions.map(x =>\n        <div>\n          <b>{x.name}</b>\n          <ul>\n            {x.steps.map( ({step}, i) => <li key={i}>{step}</li> )}\n          </ul>\n        </div>\n      )\n    }\n  </div>\n}\n\nfunction Ingredients (props) {\n  return (\n    <div className=\"ingredients\">\n      <h2>Ingredients</h2>\n      <ul>\n        {props.ingredients.map( (x, id) =>\n          <li key={id}>{x.originalString} </li>\n        )}\n      </ul>\n    </div>\n  );\n}\n\n\nconst Radar = ({title, data}) => (\n  <RadarChart\n    options = {{size:'33%', scales:5}}\n    title = {title}\n    captions = {\n      data\n        .map(x=>x.title)\n        .reduce((a,b)=> ({[b]:b, ...a}), {})\n    }\n    data = {[{\n      meta: {color: 'orange'},\n      data: data\n        .reduce((a,b) => ({[b.title]: Math.min(1,b.value/100), ...a}), {})}]\n    } />\n);\n\n\nfunction MacroBreakdown({caloricBreakdown, nutrients}) {\n  const {percentProtein, percentFat, percentCarbs} = caloricBreakdown\n\n  const carbs = nutrients.find(x => x.title == 'Net Carbohydrates') || {amount: 0};\n  const fiber = nutrients.find(x => x.title == 'Fiber') || {amount: 0};\n  const sugar = nutrients.find(x => x.title == 'Sugar') || {amount: 0};\n  const protein = nutrients.find(x => x.title == 'Protein') || {amount: 0};\n  const fat = nutrients.find(x => x.title == 'Fat') || {amount: 0};\n  const saturated = nutrients.find(x => x.title == 'Saturated Fat') || {amount: 0};\n\n\n  const saturatedPercent = percentFat * saturated.amount / fat.amount;\n  const unsaturatedPercent = percentFat * (1 - saturated.amount / fat.amount);\n  const fiberPercent = percentCarbs * fiber.amount / carbs.amount\n  const sugarPercent = percentCarbs * sugar.amount  / carbs.amount\n  const complexPercent = percentCarbs * (carbs.amount - sugar.amount)  / carbs.amount\n\n  const data = [\n    {title: \"Unsaturated Fat\", value: unsaturatedPercent, color: \"black\"},\n    {title: \"Saturated Fat\", value: saturatedPercent, color: \"darkgrey\"},\n    {title: \"Protein\", value: percentProtein, color: \"blue\"},\n    {title: \"Fiber\", value: fiberPercent, color: \"green\"},\n    {title: \"Sugar\", value: sugarPercent, color: \"red\"},\n    {title: \"Complex Carbs\", value: complexPercent, color: \"orange\"},\n  ];\n\n  const scale = Math.max(...data.map(x=>x.value));\n  const scaled = data.map(x=>({...x, value: x.value/scale * 100}));\n\n  return <Radar title=\"Macros\" data={scaled} />\n}\n\nconst summaryExcludes = new Set([\n  'Net Carbohydrates',\n  'Cholesterol',\n]);\n\nfunction Nutrition (props) {\n  const excludes = new Set([\n    'Carbohydrates',\n    'Net Carbohydrates',\n    'Fat',\n    'Sugar',\n    'Fiber',\n    'Calories',\n    'Saturated Fat',\n    'Cholesterol',\n    'Protein',\n    'Folate'\n  ]);\n\n  const nutrients = props\n    .nutrition\n    .nutrients\n    .filter(x=>!excludes.has(x.title))\n    .sort((a,b) => a.title.localeCompare(b.title) )\n\n  const vitamins = nutrients\n    .filter(x => x.title.includes('Vitamin'))\n    .map(x=>({...x, value: Math.min(100, x.percentOfDailyNeeds)}));\n\n  const minerals = nutrients\n    .filter(x => !x.title.includes('Vitamin') )\n    .map(x=>({...x, value: Math.min(100, x.percentOfDailyNeeds)}));\n\n  return (\n    <div className=\"Nutrition\">\n      <div>\n        <h2>Vitamins RDA %</h2>\n        <Radar title=\"Vitamins\" data={vitamins} />\n      </div>\n      <div>\n        <h2>Minerals RDA %</h2>\n        <Radar title=\"Minerals\" data={minerals} />\n      </div>\n      <div>\n        <h2>Macros</h2>\n        <MacroBreakdown {...props.nutrition} />\n      </div>\n    </div>\n  );\n}\n\nfunction RecipeCard(data) {\n  return (\n    <div className=\"card\" >\n      <Link to={'/recipe/'+data.id} className=\"image\">\n        <img src={'/'+data.image} width={300} loading=\"lazy\"/>\n      </Link>\n\n      <div className=\"meta\">\n        <div className=\"source\">{\n          data.sourceName\n        }</div>\n        <div className=\"title\">{data.title}</div>\n      </div>\n\n    </div>\n  );\n}\n\nfunction Recipe({match}) {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    get(`/data/recipes/${match.params.id}.json`)\n      .then(x=>setData(x.body));\n  }, [match.params.id]);\n\n  if (!data)\n    return null;\n\n  const top5Nutrients = data\n    .nutrition\n    .nutrients\n    .filter( x => !summaryExcludes.has(x.title))\n    .filter( x => x.percentOfDailyNeeds > 100)\n    .sort( (a,b) => b.percentOfDailyNeeds - a.percentOfDailyNeeds)\n    .slice(0, 5);\n\n  return (\n    <>\n      <Helmet>\n        <title>{data.title}</title>\n        <meta property=\"og:title\" content={data.title} />\n        <meta name=\"keywords\" content={data.tags.join(', ')} />\n        <meta name=\"description\" content={`Preparation Steps and Nutritional Breakdown of ${data.title}. Source: ${data.sourceName}`} />\n      </Helmet>\n      <div className=\"header\">\n        <div  style={{padding: '1em'}}>\n          <img src={'/' + data.image}/>\n        </div>\n        <div>\n          <h1>{data.title}</h1>\n          <ul className=\"summaryList\">\n            <li> <a href={data.sourceUrl}>{data.sourceUrl}</a> </li>\n            <li> Servings: <b>{data.servings}</b></li>\n            <li> Ready in: <b>{data.readyInMinutes}</b>min </li>\n            {data.preparationMinutes != undefined &&\n              <li> Preparation time: <b>{data.preparationMinutes}</b>min </li> }\n            {data.cookingMinutes != undefined &&\n              <li> Cooking time: <b>{data.cookingMinutes}</b>min </li> }\n            <li> Tags:\n              <div className=\"flex\">{\n              data.tags\n                .map( x => <Link to={`/search/${x.replace(/ /g, '-')}`} key={x} className=\"tag\">{x} </Link> )\n            }</div></li>\n\n          { (top5Nutrients.length != 0) && <li>High in: {top5Nutrients.map(x => <span key={x.title} className=\"tag\">{x.title.replace('Vitamin ', '')} </span> )} </li> }\n\n          </ul>\n        </div>\n      </div>\n      <Nutrition {...data} />\n      <div className=\"center\">\n        <Ingredients {...data} />\n        <Steps {...data} />\n      </div>\n\n      <div className=\"similar\">\n        <h1> Similar Recipes </h1>\n        <div className=\"grid\">{\n          data.similar\n            .slice(0, 4)\n            .map( (x, key) => <RecipeCard {...x} key={key} />)\n        }</div>\n      </div>\n\n    </>\n  );\n}\n\nconst useIndex = () => {\n  const [index, setIndex] = useState([]);\n\n  useEffect(() => {\n    get(`/data/search.json`).then(x => {\n      setIndex(x.body)\n    });\n  }, []);\n\n  return index;\n}\n\nconst topDiets = {\n  'Ketogenic': 2000,\n  'Primal': 1000,\n  'Paleo': 1000,\n  'Vegan': 500,\n  'Vegetarian': 500,\n  'Pescetarian': 700,\n  'Whole30': 1000,\n}\n\nconst placeholder = [\n  'Keto',\n  'Paleo',\n  'Primal',\n  'Vegan',\n  'Tomato',\n  'Spinach',\n  'Lunch',\n  'Butter',\n  'Squash',\n  'Salad',\n  'Milk',\n  'Tumeric',\n  'Ginger',\n  'Spice'\n].join(', ');\n\nfunction TopicSearch({topic}) {\n  const index = useIndex();\n  const history = useHistory();\n\n  if (!index) return null;\n\n  return (\n    <div className=\"search\">\n      <Select\n        placeholder={topic || `TagsSearch eg.: ${placeholder}`}\n        options={\n          index\n            .sort((a, b) => (topDiets[b.name]||0 - topDiets[a.name]||0)  || b.count - a.count)\n            .filter(x => x.count > 20)\n            .map(x => ({value: x.slug,  label:x.name}))\n        }\n        onChange = {x => { history.push(`/search/${x.value.replace(/ /g, '-')}`) }} />\n    </div>\n  );\n}\n\nfunction Pagination({page, total, topic}) {\n  return (\n    <div className=\"Pagination\">\n    {page>1 &&\n      <Link\n        className=\"btn\"\n        to={`/search/${topic.replace(/ /g, '-')}/${page-1}`.replace(/[/]1$/,'')}>\n        Previous\n      </Link> }\n    {page==1 &&\n      <span className=\"btn disabled\"> Previous </span> }\n    <span className=\"btn\" style={{whiteSpace: 'nowrap'}}> {page} / {total} </span>\n      {page < total &&\n        <Link\n          className=\"btn\"\n          to={`/search/${topic.replace(/ /g, '-')}/${page+1}`}>Next</Link> }\n      {page >= total && <span className=\"btn disabled\"> Next </span> }\n    </div>\n  );\n}\n\nfunction Search(props) {\n  const [data, setData] = useState({results:[]});\n\n  const page =\n    props.match && props.match.params.page\n    ? parseInt(props.match.params.page)\n    : 1;\n\n  const topic = (props.match && props.match.params.topic || 'all').replace(/-/g,' ');\n\n  useEffect(() => {\n    get(`/data/${topic.replace(/ /g, '-')}/${page-1}.json`).then(x => {\n      setData(x.body);\n\n      if ( x.body && page < x.body.total) {\n        setTimeout(() => {\n          get(`/data/${topic.replace(/ /g, '-')}/${page}.json`).then(()=>{\n            console.log('prefetched next page')\n          });\n        }, 100);\n      }\n    });\n  }, [page, topic]);\n\n  const keywords = [...new Set([\n    'Recipes',\n    topic,\n    ...data.results.flatMap(x=>x.tags)\n  ])].join(', ');\n\n  return (\n    <>\n      <div className=\"section\">\n        <Helmet>\n          <title>{topic} Recipes</title>\n          <meta property=\"og:title\" content={`${topic} Recipes`}/>\n          <meta name=\"keywords\" content={keywords} />\n          <meta name=\"description\" content={`Search Recipes`} />\n        </Helmet>\n        <div className=\"controlsWithCaption\" id=\"search\">\n          <h2> Search </h2>\n          <div className=\"controls\">\n            <TopicSearch topic={topic} />\n            <Pagination page={page} topic={topic} total={data.total} />\n          </div>\n        </div>\n\n        <div className=\"grid\">{\n          data.results\n            .map( (recipe, key) =>\n              <RecipeCard {...recipe} key={key} />)\n        }</div>\n        <div className=\"controlsWithCaption\">\n          <div>\n            <Pagination page={page} topic={topic} total={data.total} />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nfunction ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n\nfunction Intro() {\n  return (\n    <div className=\"banner\">\n      <div className=\"tagline\">\n        <p>\n          Be the Hero of the next Dinner\n        </p>\n        <p>\n          Discover new Recipes and their Nutrition Value\n        </p>\n      </div>\n      <div className=\"copic\">\n        <img src=\"/images/platter-1932466_1920.jpg\" />\n      </div>\n    </div>\n  );\n}\n\nfunction Shop (){\n  return (\n    <div className=\"section ads\">\n      <h1> Support Us and Shop!</h1>\n      <div className=\"grid\">\n        { Object.values(ads)\n          .flatMap(x=>x)\n          .map( (x, k) =>\n          <div className=\"ad card\" >\n            <div dangerouslySetInnerHTML={{__html: x}} key={k}/>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <>\n      <ScrollToTop/>\n      <div className=\"Navigation\">\n        <Link to=\"/\"> Scallion Labs </Link>\n      </div>\n      <Switch>\n        <Route path=\"/search/:topic/:page?\" component={Search}></Route>\n        <Route exact path=\"/\">\n          <Intro />\n          <Search />\n        </Route>\n        <Route exact path=\"/recipe/:id\" component={Recipe}  />\n      </Switch>\n\n      <Shop />\n\n      <div className=\"footer\">\n\n      </div>\n    </>\n  )\n}\n\nexport default App;\n\n\n{/*\n          <div className=\"section videos\">\n            <h2>Featured Videos</h2>\n            <div className=\"grid\">\n              <iframe width=\"300\" height=\"300\"  src=\"https://www.youtube.com/embed/zrRDnLJdjmQ\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n              <iframe width=\"300\" height=\"300\"  src=\"https://www.youtube.com/embed/zrRDnLJdjmQ\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n              <iframe width=\"300\" height=\"300\"  src=\"https://www.youtube.com/embed/zrRDnLJdjmQ\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n              <iframe width=\"300\" height=\"300\"  src=\"https://www.youtube.com/embed/zrRDnLJdjmQ\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n            </div>\n          </div>\n*/}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import 'autotrack/lib/plugins/event-tracker';\nimport 'autotrack/lib/plugins/outbound-link-tracker';\nimport 'autotrack/lib/plugins/url-change-tracker';\nimport React from 'react';\nimport { hydrate, render } from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { BrowserRouter } from 'react-router-dom';\n\n\nObject.defineProperty(window, \"scrollTo\", ()=>{});\n\nconsole.log(process.env.PUBLIC_URL);\n\nconst rootElement = document.getElementById(\"root\");\nconst mount =\n  (rootElement.hasChildNodes())\n    ? hydrate\n    : render;\n\n\nmount(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL} >\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}