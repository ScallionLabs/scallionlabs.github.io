(this["webpackJsonppitchfork-web"]=this["webpackJsonppitchfork-web"]||[]).push([[0],{41:function(e,t,a){e.exports=a(61)},46:function(e,t,a){},47:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),c=(a(46),a(21)),i=a(22),o=a(15),u=a(13),m=(a(47),a(11)),s=a(4),d=a(32),p=a.n(d),E=a(33),f=a.n(E),h=a(39),g=a(3),v=a(40),b={components:{MenuList:function(e){var t=e.options,a=e.children,n=e.maxHeight,l=e.getValue;if(!a||!Array.isArray(a))return null;var c=l(),i=c[0]?35*t.indexOf(c[0]):0;return r.a.createElement(h.a,{width:"",itemSize:35,height:n,itemCount:a.length,initialScrollOffset:i},(function(e){var t=e.index,n=e.style;return r.a.createElement("div",{className:"option-wrapper",style:n},a[t])}))},Option:function(e){return delete e.innerProps.onMouseMove,delete e.innerProps.onMouseOver,r.a.createElement(g.z.Option,e,e.children)}}};var N=function(e){return r.a.createElement(v.a,Object.assign({ignoreAccents:!1,components:b},e))},y=(a(56),a(35)),O=a.n(y),j=a(25),S=function(){var e=new O.a((function(e){return Promise.all(e.map((function(e){return p.a.get(e)})))}),{batch:!1});return function(t){return e.load(t)}}();function w(e){return r.a.createElement("div",{className:"steps"},r.a.createElement("h2",null,"Preparation"),e.analyzedInstructions.map((function(e){return r.a.createElement("div",null,r.a.createElement("b",null,e.name),r.a.createElement("ul",null,e.steps.map((function(e,t){var a=e.step;return r.a.createElement("li",{key:t},a)}))))})))}function k(e){return r.a.createElement("div",{className:"ingredients"},r.a.createElement("h2",null,"Ingredients"),r.a.createElement("ul",null,e.ingredients.map((function(e,t){return r.a.createElement("li",{key:t},e.originalString," ")}))))}var M=function(e){var t=e.title,a=e.data;return r.a.createElement(f.a,{options:{size:"33%",scales:5},title:t,captions:a.map((function(e){return e.title})).reduce((function(e,t){return Object(u.a)(Object(o.a)({},t,t),e)}),{}),data:[{meta:{color:"orange"},data:a.reduce((function(e,t){return Object(u.a)(Object(o.a)({},t.title,Math.min(1,t.value/100)),e)}),{})}]})};function P(e){var t=e.caloricBreakdown,a=e.nutrients,n=t.percentProtein,l=t.percentFat,c=t.percentCarbs,o=a.find((function(e){return"Net Carbohydrates"==e.title}))||{amount:0},m=a.find((function(e){return"Fiber"==e.title}))||{amount:0},s=a.find((function(e){return"Sugar"==e.title}))||{amount:0},d=(a.find((function(e){return"Protein"==e.title})),a.find((function(e){return"Fat"==e.title}))||{amount:0}),p=a.find((function(e){return"Saturated Fat"==e.title}))||{amount:0},E=l*p.amount/d.amount,f=[{title:"Unsaturated Fat",value:l*(1-p.amount/d.amount),color:"black"},{title:"Saturated Fat",value:E,color:"darkgrey"},{title:"Protein",value:n,color:"blue"},{title:"Fiber",value:c*m.amount/o.amount,color:"green"},{title:"Sugar",value:c*s.amount/o.amount,color:"red"},{title:"Complex Carbs",value:c*(o.amount-s.amount)/o.amount,color:"orange"}],h=Math.max.apply(Math,Object(i.a)(f.map((function(e){return e.value})))),g=f.map((function(e){return Object(u.a)({},e,{value:e.value/h*100})}));return r.a.createElement(M,{title:"Macros",data:g})}var C=new Set(["Net Carbohydrates","Cholesterol"]);function F(e){var t=new Set(["Carbohydrates","Net Carbohydrates","Fat","Sugar","Fiber","Calories","Saturated Fat","Cholesterol","Protein","Folate"]),a=e.nutrition.nutrients.filter((function(e){return!t.has(e.title)})).sort((function(e,t){return e.title.localeCompare(t.title)})),n=a.filter((function(e){return e.title.includes("Vitamin")})).map((function(e){return Object(u.a)({},e,{value:Math.min(100,e.percentOfDailyNeeds)})})),l=a.filter((function(e){return!e.title.includes("Vitamin")})).map((function(e){return Object(u.a)({},e,{value:Math.min(100,e.percentOfDailyNeeds)})}));return r.a.createElement("div",{className:"Nutrition"},r.a.createElement("div",null,r.a.createElement("h2",null,"Vitamins RDA %"),r.a.createElement(M,{title:"Vitamins",data:n})),r.a.createElement("div",null,r.a.createElement("h2",null,"Minerals RDA %"),r.a.createElement(M,{title:"Minerals",data:l})),r.a.createElement("div",null,r.a.createElement("h2",null,"Macros"),r.a.createElement(P,e.nutrition)))}function x(e){return r.a.createElement("div",{className:"card"},r.a.createElement(m.b,{to:"/recipe/"+e.id,className:"image"},r.a.createElement("img",{src:"/"+e.image,width:300,loading:"lazy"})),r.a.createElement("div",{className:"meta"},r.a.createElement("div",{className:"source"},e.sourceName),r.a.createElement("div",{className:"title"},e.title)))}function V(e){var t=e.match,a=Object(n.useState)(null),l=Object(c.a)(a,2),i=l[0],o=l[1];if(Object(n.useEffect)((function(){S("/data/recipes/".concat(t.params.id,".json")).then((function(e){return o(e.body)}))}),[t.params.id]),!i)return null;var u=i.nutrition.nutrients.filter((function(e){return!C.has(e.title)})).filter((function(e){return e.percentOfDailyNeeds>100})).sort((function(e,t){return t.percentOfDailyNeeds-e.percentOfDailyNeeds})).slice(0,5);return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null,r.a.createElement("title",null,i.title),r.a.createElement("meta",{property:"og:title",content:i.title}),r.a.createElement("meta",{name:"keywords",content:i.tags.join(", ")}),r.a.createElement("meta",{name:"description",content:"Preparation Steps and Nutritional Breakdown of ".concat(i.title,". Source: ").concat(i.sourceName)})),r.a.createElement("div",{className:"header"},r.a.createElement("div",{style:{padding:"1em"}},r.a.createElement("img",{src:"/"+i.image})),r.a.createElement("div",null,r.a.createElement("h1",null,i.title),r.a.createElement("ul",{className:"summaryList"},r.a.createElement("li",null," ",r.a.createElement("a",{href:i.sourceUrl},i.sourceUrl)," "),r.a.createElement("li",null," Servings: ",r.a.createElement("b",null,i.servings)),r.a.createElement("li",null," Ready in: ",r.a.createElement("b",null,i.readyInMinutes),"min "),void 0!=i.preparationMinutes&&r.a.createElement("li",null," Preparation time: ",r.a.createElement("b",null,i.preparationMinutes),"min "),void 0!=i.cookingMinutes&&r.a.createElement("li",null," Cooking time: ",r.a.createElement("b",null,i.cookingMinutes),"min "),r.a.createElement("li",null," Tags:",r.a.createElement("div",{className:"flex"},i.tags.map((function(e){return r.a.createElement(m.b,{to:"/search/".concat(e.replace(/ /g,"-")),key:e,className:"tag"},e," ")})))),0!=u.length&&r.a.createElement("li",null,"High in: ",u.map((function(e){return r.a.createElement("span",{key:e.title,className:"tag"},e.title.replace("Vitamin ","")," ")}))," ")))),r.a.createElement(F,i),r.a.createElement("div",{className:"center"},r.a.createElement(k,i),r.a.createElement(w,i)),r.a.createElement("div",{className:"similar"},r.a.createElement("h1",null," Similar Recipes "),r.a.createElement("div",{className:"grid"},i.similar.slice(0,4).map((function(e,t){return r.a.createElement(x,Object.assign({},e,{key:t}))})))))}var D={Ketogenic:2e3,Primal:1e3,Paleo:1e3,Vegan:500,Vegetarian:500,Pescetarian:700,Whole30:1e3},R=["Keto","Paleo","Primal","Vegan","Tomato","Spinach","Lunch","Butter","Squash","Salad","Milk","Tumeric","Ginger","Spice"].join(", ");function B(e){var t=e.topic,a=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){S("/data/search.json").then((function(e){r(e.body)}))}),[]),a}(),l=Object(s.f)();return a?r.a.createElement("div",{className:"search"},r.a.createElement(N,{placeholder:t||"TagsSearch eg.: ".concat(R),options:a.sort((function(e,t){return D[t.name]||0-D[e.name]||t.count-e.count})).filter((function(e){return e.count>20})).map((function(e){return{value:e.slug,label:e.name}})),onChange:function(e){l.push("/search/".concat(e.value.replace(/ /g,"-")))}})):null}function T(e){var t=e.page,a=e.total,n=e.topic;return r.a.createElement("div",{className:"Pagination"},t>1&&r.a.createElement(m.b,{className:"btn",to:"/search/".concat(n.replace(/ /g,"-"),"/").concat(t-1).replace(/[/]1$/,"")},"Previous"),1==t&&r.a.createElement("span",{className:"btn disabled"}," Previous "),r.a.createElement("span",{className:"btn",style:{whiteSpace:"nowrap"}}," ",t," / ",a," "),t<a&&r.a.createElement(m.b,{className:"btn",to:"/search/".concat(n.replace(/ /g,"-"),"/").concat(t+1)},"Next"),t>=a&&r.a.createElement("span",{className:"btn disabled"}," Next "))}function I(e){var t=Object(n.useState)({results:[]}),a=Object(c.a)(t,2),l=a[0],o=a[1],u=e.match&&e.match.params.page?parseInt(e.match.params.page):1,m=(e.match&&e.match.params.topic||"all").replace(/-/g," ");Object(n.useEffect)((function(){S("/data/".concat(m.replace(/ /g,"-"),"/").concat(u-1,".json")).then((function(e){o(e.body),e.body&&u<e.body.total&&setTimeout((function(){S("/data/".concat(m.replace(/ /g,"-"),"/").concat(u,".json")).then((function(){console.log("prefetched next page")}))}),100)}))}),[u,m]);var s=Object(i.a)(new Set(["Recipes",m].concat(Object(i.a)(l.results.flatMap((function(e){return e.tags})))))).join(", ");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section"},r.a.createElement(j.a,null,r.a.createElement("title",null,m," Recipes"),r.a.createElement("meta",{property:"og:title",content:"".concat(m," Recipes")}),r.a.createElement("meta",{name:"keywords",content:s}),r.a.createElement("meta",{name:"description",content:"Search Recipes"})),r.a.createElement("div",{className:"controlsWithCaption",id:"search"},r.a.createElement("h2",null," Search "),r.a.createElement("div",{className:"controls"},r.a.createElement(B,{topic:m}),r.a.createElement(T,{page:u,topic:m,total:l.total}))),r.a.createElement("div",{className:"grid"},l.results.map((function(e,t){return r.a.createElement(x,Object.assign({},e,{key:t}))}))),r.a.createElement("div",{className:"controlsWithCaption"},r.a.createElement("div",null,r.a.createElement(T,{page:u,topic:m,total:l.total})))))}function z(){var e=Object(s.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}function A(){return r.a.createElement("div",{className:"banner"},r.a.createElement("div",{className:"tagline"},r.a.createElement("p",null,"Be the Hero of the next Dinner"),r.a.createElement("p",null,"Discover new Recipes and their Nutrition Value")),r.a.createElement("div",{className:"copic"},r.a.createElement("img",{src:"/images/platter-1932466_1920.jpg"})))}var W=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null),r.a.createElement("div",{className:"Navigation"},r.a.createElement(m.b,{to:"/"}," Scallion Labs ")),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/search/:topic/:page?",component:I}),r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(A,null),r.a.createElement(I,null)),r.a.createElement(s.a,{exact:!0,path:"/recipe/:id",component:V})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object.defineProperty(window,"scrollTo",(function(){})),console.log(""),(document.getElementById("root").hasChildNodes()?l.hydrate:l.render)(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{basename:""},r.a.createElement(W,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.78bc41cf.chunk.js.map